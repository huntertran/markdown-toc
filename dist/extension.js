(()=>{var D={0:(D,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Utilities=void 0;const t=e(44);u.Utilities=class{static getNextLineIndexIsNotInCode(D,u){for(let e=D+1;e<u.lineCount;e++)if(this.isLineStartOrEndOfCodeBlock(e,u))return e+1;return u.lineCount-1}static isLineStartOrEndOfCodeBlock(D,u){let e=u.lineAt(D).text,i=null!==e.match(t.RegexStrings.Instance.REGEXP_CODE_BLOCK1),o=null!==e.match(t.RegexStrings.Instance.REGEXP_CODE_BLOCK2);return i||o}}},3:(D,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TocManager=void 0;const t=e(398),i=e(44),o=e(0);u.TocManager=class{constructor(){}scanForTocRange(){let D=t.window.activeTextEditor;if(void 0===D)return void(this.tocRange=new t.Range(0,0,0,0));let u,e,n=D.document;for(let D=0;D<n.lineCount;D++){o.Utilities.isLineStartOrEndOfCodeBlock(D,n)&&(D=o.Utilities.getNextLineIndexIsNotInCode(D,n));let s=n.lineAt(D).text;if(void 0===u&&s.match(i.RegexStrings.Instance.REGEXP_TOC_START)&&!s.match(i.RegexStrings.Instance.REGEXP_IGNORE_TITLE))u=new t.Position(D,0);else if(s.match(i.RegexStrings.Instance.REGEXP_TOC_STOP)){e=new t.Position(D,s.length);break}}void 0!==u&&void 0!==e||(u=D.selection.active,e=D.selection.active),this.tocRange=new t.Range(u,e)}getTocRange(){return this.scanForTocRange(),void 0===this.tocRange&&(this.tocRange=new t.Range(0,0,0,0)),this.tocRange}updateTocRange(D){for(let u=0;u<D.length;u++)void 0!==this.tocRange&&D[u].range.start.line!==this.tocRange?.start.line&&D[u].range.end.line!==this.tocRange?.end.line||this.scanForTocRange()}}},44:(D,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.RegexStrings=void 0,u.RegexStrings=class{constructor(){this.REGEXP_TOC_START=/\s*<!--(.*)[^\/]TOC(.*)-->/gi,this.REGEXP_TOC_STOP=/\s*<!--(.*)\/TOC(.*)-->/gi,this.REGEXP_TOC_CONFIG=/\w+[:=][^\s]+/gi,this.REGEXP_TOC_CONFIG_ITEM=/(\w+)[:=]([^\s]+)/,this.REGEXP_MARKDOWN_ANCHOR=/^<a id="markdown-.+" name=".+"><\/a\>/,this.REGEXP_CODE_BLOCK1=/^\s?```/,this.REGEXP_CODE_BLOCK2=/^\s?~~~/,this.REGEXP_ANCHOR=/\[.+\]\(#(.+)\)/,this.REGEXP_IGNORE_TITLE=/<!--\s*TOC\s+ingore:true\s*-->/is,this.REGEXP_HEADER_META=/^(\#*)\s*((\d*\.?)*)\s*(.+)/,this.REGEXP_UNIQUE_CONFIG_START=/\s*<!--(.*)[^\/]TOC UNIQUE CONFIGS(.*)-->/gi,this.REGEXP_UNIQUE_CONFIG_STOP=/\s*<!--(.*)\/TOC UNIQUE CONFIGS(.*)-->/gi,this.REGEXP_UNIQUE_CONFIG_LINE=/\s*<!--( *)(\w+)[:](\w+)( *)-->/gi}static get Instance(){return this._instance||(this._instance=new this)}}},49:(D,u)=>{"use strict";var e;Object.defineProperty(u,"__esModule",{value:!0}),u.AnchorMode=void 0,(e=u.AnchorMode||(u.AnchorMode={})).github="github.com",e.bitbucket="bitbucket.org",e.ghost="ghost.org",e.gitlab="gitlab.com"},174:(D,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Anchor=void 0;const t=e(398);u.Anchor=class{constructor(D){this.id="",this.name="",this.range=new t.Range(0,0,0,0),D=D.toLowerCase().replace(/\s/gi,"-"),this.id="markdown-"+encodeURIComponent(D),this.name=encodeURIComponent(D)}}},315:(D,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Dictionary=void 0,u.Dictionary=class{constructor(D,u){this.key=D,this.lowerCaseKey=D.toLocaleLowerCase(),this.workspaceValue=u}get value(){return void 0!==this.uniqueValue?this.uniqueValue:this.workspaceValue}}},369:(D,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Options=void 0;const t=e(315),i=e(49);u.Options=class{constructor(){this.optionsFlag=[],this.isProgrammaticallySave=!1,this.isOrderedListDetected=!1,this.DEPTH_FROM=new t.Dictionary("depthFrom",1),this.DEPTH_TO=new t.Dictionary("depthTo",6),this.INSERT_ANCHOR=new t.Dictionary("insertAnchor",!1),this.WITH_LINKS=new t.Dictionary("withLinks",!0),this.ORDERED_LIST=new t.Dictionary("orderedList",!1),this.UPDATE_ON_SAVE=new t.Dictionary("updateOnSave",!0),this.ANCHOR_MODE=new t.Dictionary("anchorMode",i.AnchorMode.github),this.BULLET_CHAR=new t.Dictionary("bulletCharacter","-"),this.DETECT_AUTO_SET_SECTION=new t.Dictionary("detectAndAutoSetSection",!1),this.extensionName="markdown-toc",this.EOL=e(857).EOL,this.lineEnding="",this.tabSize=2,this.insertSpaces=!1,this.autoSave=!1,this.tab="\t"}}},371:D=>{D.exports=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g},398:D=>{"use strict";D.exports=require("vscode")},461:(D,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ConfigManager=void 0;const t=e(44),i=e(369),o=e(398);u.ConfigManager=class{constructor(){this.options=new i.Options}updateOptions(){this.loadConfigurations(),this.loadCustomOptions()}loadConfigurations(){this.options.DEPTH_FROM.workspaceValue=o.workspace.getConfiguration(this.options.extensionName).get(this.options.DEPTH_FROM.key),this.options.DEPTH_TO.workspaceValue=o.workspace.getConfiguration(this.options.extensionName).get(this.options.DEPTH_TO.key),this.options.INSERT_ANCHOR.workspaceValue=o.workspace.getConfiguration(this.options.extensionName).get(this.options.INSERT_ANCHOR.key),this.options.WITH_LINKS.workspaceValue=o.workspace.getConfiguration(this.options.extensionName).get(this.options.WITH_LINKS.key),this.options.ORDERED_LIST.workspaceValue=o.workspace.getConfiguration(this.options.extensionName).get(this.options.ORDERED_LIST.key),this.options.UPDATE_ON_SAVE.workspaceValue=o.workspace.getConfiguration(this.options.extensionName).get(this.options.UPDATE_ON_SAVE.key),this.options.ANCHOR_MODE.workspaceValue=o.workspace.getConfiguration(this.options.extensionName).get(this.options.ANCHOR_MODE.key),this.options.BULLET_CHAR.workspaceValue=o.workspace.getConfiguration(this.options.extensionName).get(this.options.BULLET_CHAR.key),this.options.DETECT_AUTO_SET_SECTION.workspaceValue=o.workspace.getConfiguration(this.options.extensionName).get(this.options.DETECT_AUTO_SET_SECTION.key),this.options.lineEnding=o.workspace.getConfiguration("files",null).get("eol"),"auto"===this.options.lineEnding&&(this.options.lineEnding=this.options.EOL),this.options.tabSize=o.workspace.getConfiguration("[markdown]",null)["editor.tabSize"],void 0!==this.options.tabSize&&null!==this.options.tabSize||(this.options.tabSize=o.workspace.getConfiguration("editor",null).get("tabSize")),this.options.insertSpaces=o.workspace.getConfiguration("[markdown]",null)["editor.insertSpaces"],void 0!==this.options.insertSpaces&&null!==this.options.insertSpaces||(this.options.insertSpaces=o.workspace.getConfiguration("editor",null).get("insertSpaces")),this.options.insertSpaces&&this.options.tabSize>0&&(this.options.tab=" ".repeat(this.options.tabSize)),"off"!==o.workspace.getConfiguration("files",null).get("autoSave")&&(this.options.autoSave=!0)}loadCustomOptions(){this.options.optionsFlag=[];let D=o.window.activeTextEditor;if(void 0!==D)for(let u=0;u<D.document.lineCount;u++){let e=D.document.lineAt(u).text;if(e.match(t.RegexStrings.Instance.REGEXP_TOC_START)){let D=e.match(t.RegexStrings.Instance.REGEXP_TOC_CONFIG);null!==D&&D.forEach(D=>{let u=t.RegexStrings.Instance.REGEXP_TOC_CONFIG_ITEM.exec(D);if(null!==u){let D=u[1].toLocaleLowerCase(),e=u[2];switch(D){case this.options.DEPTH_FROM.lowerCaseKey:this.options.optionsFlag.push(D),this.options.DEPTH_FROM.uniqueValue=this.parseValidNumber(e);break;case this.options.DEPTH_TO.lowerCaseKey:this.options.optionsFlag.push(D),this.options.DEPTH_TO.uniqueValue=Math.max(this.parseValidNumber(e),this.options.DEPTH_FROM.value);break;case this.options.INSERT_ANCHOR.lowerCaseKey:this.options.optionsFlag.push(D),this.options.INSERT_ANCHOR.uniqueValue=this.parseBool(e);break;case this.options.WITH_LINKS.lowerCaseKey:this.options.optionsFlag.push(D),this.options.WITH_LINKS.uniqueValue=this.parseBool(e);break;case this.options.ORDERED_LIST.lowerCaseKey:this.options.optionsFlag.push(D),this.options.ORDERED_LIST.uniqueValue=this.parseBool(e);break;case this.options.UPDATE_ON_SAVE.lowerCaseKey:this.options.optionsFlag.push(D),this.options.UPDATE_ON_SAVE.uniqueValue=this.parseBool(e);break;case this.options.ANCHOR_MODE.lowerCaseKey:this.options.optionsFlag.push(D),this.options.ANCHOR_MODE.uniqueValue=e;break;case this.options.BULLET_CHAR.lowerCaseKey:this.options.optionsFlag.push(D),this.options.BULLET_CHAR.uniqueValue=e;break;case this.options.DETECT_AUTO_SET_SECTION.lowerCaseKey:this.options.optionsFlag.push(D),this.options.DETECT_AUTO_SET_SECTION.uniqueValue=e}}});break}}}getOptionValueByKey(D){switch(D.toLowerCase()){case this.options.DEPTH_FROM.lowerCaseKey:return this.options.DEPTH_FROM.value;case this.options.DEPTH_TO.lowerCaseKey:return this.options.DEPTH_TO.value;case this.options.INSERT_ANCHOR.lowerCaseKey:return this.options.INSERT_ANCHOR.value;case this.options.WITH_LINKS.lowerCaseKey:return this.options.WITH_LINKS.value;case this.options.ORDERED_LIST.lowerCaseKey:return this.options.ORDERED_LIST.value;case this.options.UPDATE_ON_SAVE.lowerCaseKey:return this.options.UPDATE_ON_SAVE.value;case this.options.ANCHOR_MODE.lowerCaseKey:return this.options.ANCHOR_MODE.value;case this.options.BULLET_CHAR.lowerCaseKey:return this.options.BULLET_CHAR.value;case this.options.DETECT_AUTO_SET_SECTION.lowerCaseKey:return this.options.DETECT_AUTO_SET_SECTION.value}}parseBool(D){return"true"===D.toLocaleLowerCase()}parseValidNumber(D){let u=parseInt(D);return u<1?1:u}}},481:D=>{D.exports=function(D,u){(u=u||{}).listUnicodeChar=!!u.hasOwnProperty("listUnicodeChar")&&u.listUnicodeChar,u.stripListLeaders=!u.hasOwnProperty("stripListLeaders")||u.stripListLeaders,u.gfm=!u.hasOwnProperty("gfm")||u.gfm,u.useImgAltText=!u.hasOwnProperty("useImgAltText")||u.useImgAltText,u.abbr=!!u.hasOwnProperty("abbr")&&u.abbr,u.replaceLinksWithURL=!!u.hasOwnProperty("replaceLinksWithURL")&&u.replaceLinksWithURL,u.htmlTagsToSkip=u.hasOwnProperty("htmlTagsToSkip")?u.htmlTagsToSkip:[],u.throwError=!!u.hasOwnProperty("throwError")&&u.throwError;var e=D||"";e=e.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*/gm,"");try{u.stripListLeaders&&(e=u.listUnicodeChar?e.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,u.listUnicodeChar+" $1"):e.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,"$1")),u.gfm&&(e=e.replace(/\n={2,}/g,"\n").replace(/~{3}.*\n/g,"").replace(/~~/g,"").replace(/`{3}.*\n/g,"")),u.abbr&&(e=e.replace(/\*\[.*\]:.*\n/,"")),e=e.replace(/<[^>]*>/g,"");var t=new RegExp("<[^>]*>","g");if(u.htmlTagsToSkip.length>0){var i="(?!"+u.htmlTagsToSkip.join("|")+")";t=new RegExp("<"+i+"[^>]*>","ig")}e=e.replace(t,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g,u.useImgAltText?"$1":"").replace(/\[([^\]]*?)\][\[\(].*?[\]\)]/g,u.replaceLinksWithURL?"$2":"$1").replace(/^(\n)?\s{0,3}>\s?/gm,"$1").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s*( (.+))? +#+$|^(\n)?\s{0,}#{1,6}\s*( (.+))?$/gm,"$1$3$4$6").replace(/([\*]+)(\S)(.*?\S)??\1/g,"$2$3").replace(/(^|\W)([_]+)(\S)(.*?\S)??\2($|\W)/g,"$1$3$4$5").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/~(.*?)~/g,"$1")}catch(e){if(u.throwError)throw e;return console.error("remove-markdown encountered error: %s",e),D}return e}},612:(D,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.AutoMarkdownToc=void 0;const t=e(398),i=e(461),o=e(876),n=e(49),s=e(44),F=e(3);u.AutoMarkdownToc=class{constructor(){this.configManager=new i.ConfigManager,this.headerManager=new o.HeaderManager(this.configManager),this.tocManager=new F.TocManager}onDidChangeTextDocument(D){D.contentChanges.length>0&&this.tocManager.updateTocRange(D.contentChanges)}onDidSaveTextDocument(){if(!this.configManager.options.UPDATE_ON_SAVE.value)return;if(this.configManager.options.isProgrammaticallySave)return void(this.configManager.options.isProgrammaticallySave=!1);let D=t.window.activeTextEditor;if(void 0!==D){let u=D.document;if("markdown"!==u.languageId)return;this.tocManager.getTocRange().isSingleLine||(this.updateMarkdownToc(),this.configManager.options.isProgrammaticallySave=!0,u.save())}}async updateMarkdownToc(){let D=this,u=t.window.activeTextEditor;if(void 0===u)return;D.configManager.updateOptions();let e=D.tocManager.getTocRange(),i=await D.headerManager.getHeaderList();u.document,u.edit(async u=>{e.isSingleLine||(u.delete(e),D.deleteAnchors(u)),D.createToc(u,i,e.start),D.insertAnchors(u,i)})}deleteMarkdownToc(){let D=this,u=t.window.activeTextEditor;void 0!==u&&u.edit(function(u){let e=D.tocManager.getTocRange();e.isSingleLine||(D.deleteAnchors(u),u.delete(e))})}updateHeadersWithSections(D,u,e){u.forEach(u=>{0===u.range.start.line||e.lineAt(u.range.start.line-1).isEmptyOrWhitespace||D.insert(new t.Position(u.range.start.line,0),this.configManager.options.lineEnding),this.configManager.options.ORDERED_LIST.value?D.replace(u.range,u.fullHeaderWithOrder):D.replace(u.range,u.fullHeaderWithoutOrder)})}async updateMarkdownSections(){this.configManager.updateOptions();let D=await this.headerManager.getHeaderList(),u=t.window.activeTextEditor,e=this.configManager;if(void 0!==u){e.options.isOrderedListDetected=!0;let t=u.document;u.edit(u=>{this.updateHeadersWithSections(u,D,t)})}}async deleteMarkdownSections(){this.configManager.updateOptions();let D=await this.headerManager.getHeaderList(),u=t.window.activeTextEditor,e=this.configManager;void 0!==u&&void 0!==D&&(e.options.isOrderedListDetected=!1,u.edit(function(u){D.forEach(D=>{u.replace(D.range,D.fullHeaderWithoutOrder)})}))}insertAnchor(D,u){if(null!==u.tocRowWithAnchor(u.tocWithoutOrder).match(s.RegexStrings.Instance.REGEXP_ANCHOR)){let e=[this.configManager.options.lineEnding,'<a id="',u.anchor.id,'" name="',u.anchor.name,'"></a>'],i=new t.Position(u.range.end.line,u.range.end.character);this.configManager.options.ANCHOR_MODE.value===n.AnchorMode.bitbucket&&(e=e.slice(1),e.push(this.configManager.options.lineEnding),e.push(this.configManager.options.lineEnding),i=new t.Position(u.range.start.line,0)),D.insert(i,e.join(""))}}insertAnchors(D,u){this.configManager.options.INSERT_ANCHOR.value&&u.forEach(u=>{this.insertAnchor(D,u)})}deleteAnchors(D){let u=t.window.activeTextEditor;if(void 0!==u){let e=u.document;for(let u=0;u<e.lineCount;u++){if(null===e.lineAt(u).text.match(s.RegexStrings.Instance.REGEXP_MARKDOWN_ANCHOR))continue;let i=this.getStartPositionOfAnchorLine(u,e),o=new t.Range(i,new t.Position(i.line+1,0));D.delete(o)}}}getStartPositionOfAnchorLine(D,u){let e=new t.Position(D,0);return this.configManager.options.ANCHOR_MODE.value===n.AnchorMode.bitbucket&&D>0&&0===u.lineAt(D-1).text.length&&(e=new t.Position(D-2,0)),e}createToc(D,u,e){let t=[];t=t.concat(this.generateTocStartIndicator());let i=u[0].depth;u.forEach(D=>{i=Math.min(i,D.depth)});let o=[];u.forEach(D=>{if(D.depth>=this.configManager.options.DEPTH_FROM.value&&!D.isIgnored){let u=this.generateTocRow(D,i);o.push(u)}}),t.push(o.join(this.configManager.options.lineEnding)),t.push(this.configManager.options.lineEnding+"\x3c!-- /TOC --\x3e"),D.insert(e,t.join(this.configManager.options.lineEnding))}generateTocRow(D,u){let e=[],t=D.depth-Math.max(this.configManager.options.DEPTH_FROM.value,u);return e.push(this.configManager.options.tab.repeat(t)),e.push(this.configManager.options.BULLET_CHAR.value),e.push(" "),this.configManager.options.WITH_LINKS.value?e.push(D.tocRowWithAnchor(this.getTocString(D))):e.push(this.getTocString(D)),e.join("")}getTocString(D){return this.configManager.options.ORDERED_LIST.value?D.tocWithOrder:D.tocWithoutOrder}generateTocStartIndicator(){let D=[];return D.push("\x3c!-- TOC "),this.generateCustomOptionsInTocStart(D),D.push("--\x3e"+this.configManager.options.lineEnding),D.join("")}generateCustomOptionsInTocStart(D){this.configManager.options.optionsFlag.forEach(u=>{-1!==this.configManager.options.optionsFlag.indexOf(u)&&D.push(u+":"+this.configManager.getOptionValueByKey(u)+" ")})}dispose(){}}},711:(D,u,e)=>{"use strict";var t=e(371),i=e(481);function o(D){return D.replace(/ /g,"-").replace(/%([abcdef]|\d){2,2}/gi,"").replace(/[\/?!:\[\]`.,()*"';{}+=<>~\$|#@&–—]/g,"").replace(/[。？！，、；：“”【】（）〔〕［］﹃﹄“ ”‘’﹁﹂—…－～《》〈〉「」]/g,"")}function n(D,u){return D=o(D),u&&(D+="-"+u),D=D.replace(t(),""),i(D)}function s(D,u){return D=(D="markdown-header-"+o(D)).replace(/--+/g,"-"),u&&(D+="_"+u),D}function F(D){return function(D){return D.replace(/ /g,"").replace(/[\/?:\[\]`.,()*"';{}\-+=<>!@#%^&\\\|]/g,"").replace(/\$/g,"d").replace(/~/g,"t")}(D)}function r(D,u){return D=D.replace(/<(.*)>(.*)<\/\1>/g,"$2").replace(/!\[.*\]\(.*\)/g,"").replace(/\[(.*)\]\(.*\)/,"$1").replace(/\s+/g,"-").replace(/[\/?!:\[\]`.,()*"';{}+=<>~\$|#@]/g,"").replace(/[。？！，、；：“”【】（）〔〕［］﹃﹄“ ”‘’﹁﹂—…－～《》〈〉「」]/g,"").replace(/[-]+/g,"-").replace(/^-/,"").replace(/-$/,""),u&&(D+="-"+u),D}D.exports=function(D,u,e,t){var i;u=u||"github.com";var o=encodeURI;switch(u){case"github.com":i=n,o=function(D){return encodeURI(D).replace(/%E2%80%8D/g,"‍")};break;case"bitbucket.org":i=s;break;case"gitlab.com":i=r;break;case"nodejs.org":if(!t)throw new Error("Need module name to generate proper anchor for "+u);i=function(D,u){return function(D,u){return D=(D=(D=D.replace(/[^a-z0-9]+/g,"_")).replace(/^_+|_+$/,"")).replace(/^([^a-z])/,"_$1"),u&&(D+="_"+u),D}(t+"."+D,u)};break;case"ghost.org":i=F;break;default:throw new Error("Unknown mode: "+u)}var a=i(function(D){for(var u="",e=0;e<D.length;++e)D[e]>="A"&&D[e]<="Z"?u+=D[e].toLowerCase():u+=D[e];return u}(D.trim()),e);return"["+D+"](#"+o(a)+")"}},857:D=>{"use strict";D.exports=require("os")},876:(D,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.HeaderManager=void 0;const t=e(974),i=e(398),o=e(44);u.HeaderManager=class{constructor(D){this.configManager=D}async getDocumentSymbols(D){return(await i.commands.executeCommand("vscode.executeDocumentSymbolProvider",D)).filter(function(D){return D.kind===i.SymbolKind.String})}async getHeaderList(){let D=[],u=i.window.activeTextEditor;if(void 0!==u){let e=i.Uri.file(u.document.fileName),t=await this.getDocumentSymbols(e),o=new Map,n=new Array;this.convertAllFirstLevelHeader(t,n,o);let s=this.getMostPopularHeaderDepth(o);for(let e=0;e<n.length;e++){let i=n[e];i.depth>s||(i.isIgnored=this.getIsHeaderIgnored(i,u),i.orderArray=this.calculateHeaderOrder(i,D),i.orderedListString=i.orderArray.join(".")+".",i.depth<=this.configManager.options.DEPTH_TO.value&&(D.push(i),this.addHeaderChildren(t[e],D,u)))}this.detectAutoOrderedHeader(D)}return D}getIsHeaderIgnored(D,u){let e=D.range.start.line-1;return!!(e>0&&u.document.lineAt(e).text.match(o.RegexStrings.Instance.REGEXP_IGNORE_TITLE))}getMostPopularHeaderDepth(D){let u=0,e=0;return D.forEach((D,t)=>{D>=u&&(e=D,u=t)}),u}convertAllFirstLevelHeader(D,u,e){for(let i=0;i<D.length;i++){let o=new t.Header(this.configManager.options.ANCHOR_MODE.value);o.convertFromSymbol(D[i]),u.push(o);let n=e.get(o.depth);void 0===n?e.set(o.depth,1):(n+=1,e.set(o.depth,n))}}addHeaderChildren(D,u,e){if(D.children.length>0)for(let i=0;i<D.children.length;i++){let o=new t.Header(this.configManager.options.ANCHOR_MODE.value);o.convertFromSymbol(D.children[i]),o.isIgnored=this.getIsHeaderIgnored(o,e),o.orderArray=this.calculateHeaderOrder(o,u),o.orderedListString=o.orderArray.join(".")+".",o.depth<=this.configManager.options.DEPTH_TO.value&&(u.push(o),this.addHeaderChildren(D.children[i],u,e))}}detectAutoOrderedHeader(D){this.configManager.options.isOrderedListDetected=!1;for(let u=0;u<D.length;u++)if(void 0!==D[u].orderedListString&&""!==D[u].orderedListString){this.configManager.options.isOrderedListDetected=!0;break}}calculateHeaderOrder(D,u){if(0===u.length){let u=new Array(D.depth);return u[D.depth-1]=1,u}let e=u[u.length-1];if(D.depth<e.depth){let e;for(let t=u.length-1;t>=0;t--)if(u[t].depth===D.depth){e=u[t];break}if(void 0!==e){let D=Object.assign([],e.orderArray);return D[D.length-1]++,D}{let u=new Array(D.depth);return u[D.depth-1]=1,u}}if(D.depth>e.depth){let D=Object.assign([],e.orderArray);return D.push(1),D}if(D.depth===e.depth){let D=Object.assign([],e.orderArray);return D[D.length-1]++,D}return[]}}},974:(D,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Header=void 0;const t=e(398),i=e(49),o=e(174),n=e(44);u.Header=class{constructor(D){this.headerMark="",this.orderedListString="",this.dirtyTitle="",this.isIgnored=!1,this.orderArray=[],this.anchorMode=i.AnchorMode.github,this.anchorMode=D,this.range=new t.Range(0,0,0,0),this.anchor=new o.Anchor("")}convertFromSymbol(D){let u=D.name.match(n.RegexStrings.Instance.REGEXP_HEADER_META);null!==u&&(this.headerMark=u[1],this.orderedListString=u[2],this.dirtyTitle=u[4]),this.range=new t.Range(D.range.start,new t.Position(D.range.start.line,D.name.length)),this.anchor=new o.Anchor(this.cleanUpTitle(this.dirtyTitle))}get depth(){return this.headerMark.length}get isHeader(){return""!==this.headerMark}tocRowWithAnchor(D){let u=this.cleanUpTitle(D);return e(711)(u,this.anchorMode)}get tocWithoutOrder(){return this.dirtyTitle}get tocWithOrder(){return this.orderArray.join(".")+". "+this.tocWithoutOrder}get fullHeaderWithOrder(){return this.headerMark+" "+this.tocWithOrder}get fullHeaderWithoutOrder(){return this.headerMark+" "+this.tocWithoutOrder}cleanUpTitle(D){let u=D.replace(/\[(.+)]\([^)]*\)/gi,"$1");return u=u.replace(/<!--.+-->/gi,""),u=u.replace(/\#*`|\(|\)/gi,"").trim(),u}}}},u={};function e(t){var i=u[t];if(void 0!==i)return i.exports;var o=u[t]={exports:{}};return D[t](o,o.exports,e),o.exports}var t={};(()=>{"use strict";var D=t;Object.defineProperty(D,"__esModule",{value:!0}),D.deactivate=D.activate=void 0;const u=e(398),i=e(612);D.activate=function(D){let e=new i.AutoMarkdownToc,t=u.commands.registerCommand("extension.updateMarkdownToc",async()=>{await e.updateMarkdownToc()}),o=u.commands.registerCommand("extension.deleteMarkdownToc",()=>{e.deleteMarkdownToc()}),n=u.commands.registerCommand("extension.updateMarkdownSections",()=>{e.updateMarkdownSections()}),s=u.commands.registerCommand("extension.deleteMarkdownSections",()=>{e.deleteMarkdownSections()}),F=u.workspace.onDidSaveTextDocument(()=>{e.onDidSaveTextDocument()}),r=u.workspace.onDidChangeTextDocument(D=>{e.onDidChangeTextDocument(D)});D.subscriptions.push(t),D.subscriptions.push(o),D.subscriptions.push(n),D.subscriptions.push(s),D.subscriptions.push(F),D.subscriptions.push(r)},D.deactivate=function(){}})(),module.exports=t})();